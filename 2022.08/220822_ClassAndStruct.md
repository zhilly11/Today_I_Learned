# 220822_
#TIL

# ✏️TIL (Today I Learned)
# 🔥 오늘의 목표
- [x] 묵찌빠 STEP-1 PR
- [x] Class 와 Struct의 차이점 공부하기
- [ ] 

# 🔥 오늘 한 일
## 묵찌빠 Ground Rule 작성
## 묵찌빠 STEP-1 PR 
## 묵찌빠 Flow Chart 작성
# 🔥 공부한 내용
# 구조체와 클래스 (Structures and Classes)
구조체와 클래스는 프로그램 코드의 구성 요소가 범용되는 유연한 구조이다.

다른 프로그래밍 언어와는 달리 Swift는 사용자 정의 구조체와  클래스에 대해 별도의 인터페이스와 구현 파일을 만들 필요가 없다.

Swift에서 단일 파일로 구조체 또는 클래스를 정의하면 해당 클래스 또는 구조체에 대한 외부 인터페이스가 자동으로 다른 코드에서 사용할 수 있다.

## 구조체와 클래스의 비교
### 공통점
- 값을 저장하는 프로퍼티 정의
- 기능 제공을 위한 메서드 정의
- 서브 스크립트 구문을 사용하여 값에 접근을 제공하는 서브 스크립트 정의
- 초기화 상태를 설정하기 위한 초기화 정의
- 기본 구현을 넘어 기능적 확장을 위한 확장
- 특정 종류의 표준 기능을 제공하는 프로토콜 준수

### 클레스에는 구조체에 없는 추가 기능이 있다.
- 상속을 사용하면 한 클래스가 다른 클래스의 특성을 상속할 수 있다.
- 타입 캐스팅을 사용하면 런타임에 클래스의 인스턴스의 타입을 확인하고 해석할 수 있습니다.
- 초기화 해제 구문을 사용하면 클래스의 인스턴스가 할당된 리소스를 해제할 수 있도록 한다.
- 참조 카운팅은 하나 이상의 클래스 인스턴스 참조를 허락한다.

하지만 클래스가 지원하는 추가 기능은 복잡성이 증가합니다. 일
반적인 지침으로는 추론하기 쉬운 구조체를 선호하고 적절하거나 필요할 때 클래스를 사용합니다. 
실질적으로 정의하는 대부분의 사용자 정의 데이터 타입이 구조체와 열거형이라는것을 의미한다!

## 구조체와 열거형은 값 타입

값 타입은 변수 또는 상수에 할당될 때나 함수에 전달될 때 복사되는 값인 타입이다.
실제로 Swift에서 정수,부동 소수점, 부울, 문자열, 배열, 딕셔너리와 같은 기본 타입의 모두는 값 타입이고 구조체로 구현되어있다!

![](220822_ClassAndStruct/09_sharedStateStruct_2x.png)

## 클래스는 참조 타입
- ARC로 메모리를 관리한다.
- 상속이 가능하다.
- deinit을 사용하여 클래스 인스턴스의 메모리 할당을 해제할 수 있습니다.

![](220822_ClassAndStruct/09_sharedStateClass_2x.png)

## 식별 연산자

클래스는 참조 타입이기 때문에 클래스의 같은 단일 인스턴스에 참조하는 여러개의 상수와 변수가 가능하다.
2개의 상수 또는 변수가 클래스의 같은 인스턴스를 참조하는지 확인하는 것이 유용할 수 있습니다. 이를 위해 Swift는 2가지 식별 연산자를 제공한다!

- 동일 인스턴스 (Identical to) ( === )
- 동일하지 않은 인스턴스 (Not identical to) ( !== )

여기까지가 공식문서 내용

구조체는 언제 생기고, 언제 사라질지 컴파일 단계에서 알 수 있기 때문에 메모리의 stack 공간에 할당된다.
클래스는 참조가 어디서 어떻게 될지 모르기 때문에 Heap 공간에 할당된다.

Stack? Heap?

- Stack 할당
	- 자료구조 특성상 하나의 명령어로 메모리 할당, 해제 가능
	- 스레드들은 각각 독립적인 Stack 공간을 가지고 있기 때문에 상호 배제를 위한 자원이 필요하지 않다.
	- 즉 스레드로 부터 안전!
	- 이런 특징 때문에 Stack의 값을 사용하는 것이 Heap보다 빠르다.

- Heap 할당
	- Heap 에서는 참조 계산도 해줘야 하므로 Stack 보다 복잡하다.
	- Heap은 스레드가 공유하는 메모리 공간이기 때문에 스레드로부터 안전하지 않다.
	- 이를 관리해주기 위한 lock과 같은 자원이 필요하게 된다 이는 곧  오버헤드로 이어지게 된다!

## 그래서 언제 클래스를 쓰고 언제 구조체를 써?
- 단순한 데이터 값을 보유하기 위해서는 구조체가 낫다.
- 메모리의 스택은 크기가 크지 않기 때문에 작은 값을 같는 데이터를 처리할때 구조체를 쓰자
- Objectice-C와 상호 운용성을 원할 때는 클래스를 사용한다.


참조문서
[Swift Class와 Struct의 차이점?](https://icksw.tistory.com/256)
[스위프트 공식문서](https://docs.swift.org/swift-book/LanguageGuide/ClassesAndStructures.html)


# 🔥 오늘의 3줄 회고
* 하루하루 공부할 수록 공부할 양이 더 많아진다^^
* class와 struct 차이를 알게 되었다.
* 잠은 일찍일찍 잡시다.
