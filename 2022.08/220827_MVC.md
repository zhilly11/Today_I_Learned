# 220827_MVC

Date: 2022년 8월 27일

# ✏️TIL (Today I Learned)

# 🔥 공부한 내용

# MVC

Model-View-Controller 설계 패턴은 응용프로그램의 객체를 모델,뷰,컨트롤러 세 가지 역할 중 하나로 할당한다.

패턴을 사용하는 이유는 응용 프로그램에서 오브젝트가 수행하는 역할을 정의할 뿐만 아니라 오브젝트가 서로 통신하는 방법을 정의한다.

3종류의 오브젝트 각각은 추상적인 경계에 의해 다른 오브젝트로부터 분리되어 이들 경계를 넘어 다른 타입의 오브젝트와 통신한다.

응용프로그램에서 특정 MVC 유형의 오브젝트 컬렉션은 레이어라고 불린다.

MVC는 코코아 애플리케이션을 위한 조은 디자인의 핵심이다.

MVC를 채택하면 많은 이점이 있다. 재사용이 용이하고 인터페이스가 보다 잘 정의 되는 경향이 있다. 또한 다른 애플리케이션보다 쉬운 확장이 가능하다. 또한 많은 cocoa 기술과 아키텍처는 MVC를 기반으로 한다.

![image](https://user-images.githubusercontent.com/99257965/187076078-31fad65e-856d-47bc-84ff-d392b61de70b.png)


- Model object
    
    모델는 응용 프로그램의 고유한 데이터를 캡슐화하고 해당 데이터를 조작 및 처리하는 논리와 계산을 정의한다. 모델은 다른 모델과 1:1, 1:N 관계를 가질 수 있으며, 따라서 애플리케이션 모델 레이어는 효과적으로 하나 이상의 객체 그래프가 될 수 있습니다. 앱의 지속상태에 속하는 데이터의 대부분은 데이터가 앱에 로드된 후 모델에 있어야 합니다. 모델은 데이터를 표시하고 사용자가 데이터를 편집할 수 있도록 하는 뷰에 명시적으로 접속하지 않는 것이 이상적입니다. 또한 사용자 인터페이스와 프레젠테이션의 문제는 관여하지 않는 것이 좋습니다.
    
    - 통신
        
        데이터를 작성 또는 수정하는 뷰 레이어 내의 사용자 액션은 컨트롤러 오브젝트를 통해 전달되며 모델 오브젝트가 생성 또는 갱신 됩니다. 모델이 변경되면 컨트롤러에 알립니다. 컨트롤러는 적절한 뷰를 업데이트합니다.
        
- View object
    
    뷰 오브젝트는 사용자가 볼 수 있는 응용 프로그램의 개체입니다. 뷰는 자신을 그리는 방법을 알고 사용자 작업에 응답할 수 있습니다. 뷰의 주요 목적은 응용 프로그램의 모델의 데이터를 표시하고 해당 데이터를 편집할 수 있도록 하는 것입니다. 그럼에도 불구하고 뷰는 일반적으로 MVC에서 모델과 분리 됩니다.
    
    일반적으로 이러한 개체를 재사용하고 재구성하기 때문에 뷰는 애플리케이션 간의 일관성을 제공합니다. UIKit 프레임워크와 AppKit 프레임워크 모두 뷰 클래스 컬렉션을 제공하여 Interface Builder는 라이브러리에 수십 개의 뷰를 제공합니다.
    
    - 통신
        
        뷰는 앱의 컨트롤러를 통해 모델의 변경사항을 학습하고, 컨트롤러를 통해 사용자가 시작한 변경 사항을 앱의 모델로 전달합니다.
        
- Controller object
    
    컨트롤러는 응용 프로그램의 뷰 중 하나와 모델 중 하나 이상을 중개하는 역할을 합니다. 따라서 컨트롤러는 뷰가 모델 변경에 대해 학습하는 통로이며 반대의 경우도 마찬가지이다. 컨트롤러는 앱의 설정 및 조정 작업을 수행하고 다른 개체의 수명 주기를 관리할 수도 있습니다.
    
    - 통신
        
        컨트롤러는 뷰에서 이루어진 사용자 액션을 해석하여 신규 또는 변경된 데이터를 모델에게 전달한다. 모델이 변경되면 컨트롤러는 뷰에 새 모델 데이터를 전달하여 표시할 수 있도록 한다.
        

MVC는 상당히 오래된 패턴이다. Smalltalk 초기부터 변형이 있었다고 한다. (Smalltalk가 뭔지 모름,,) 애플리케이션을 수행하는 일반적인 역할에 따라 개체를 분류한다는 점에서 개괄적인 패턴이다. 또한 여러 가지 더 많은 요소 패턴으로 이루어진 복합 패턴이기도 하다.

객체 지향 프로그램은 MVC 설계 패턴을 설계에 맞게 조정함으로써 여러 가지 면에서 이점을 제공한다. 이러한 패턴을 지키는 프로그램의 많은 개체는 재사용이 용이하고 유지보수성이 좋다. 또한 전반적으로 변화하는 요구사항에 더 잘 적은한다. 즉 MVC를 기반으로 하지 않은 프로그램보다 더 쉽게 확장된다. 바인딩, 문서 아키텍쳐, 스크립트 작성성 등 코코아의 많은 기술과 아키텍처는 MVC를 기반으로 하고 있으며 MVC에서 정의한 역할 중 하나를 사용자 지정 개체가 수행해야 한다.

- 데이터 및 기본 동작을 캡슐화하는 모델
    
    적적하게 설계된 MVC에서는 중요한 데이터가 모두 모델에 캡슐화 되어 있다. 
    

## 블로그 참고

[너의 MVC는 나의 MVC와 다르다](https://velog.io/@eddy_song/ios-mvc)

그렇다면 애플은 왜 이 구조를 만들었을까? 바로 재사용성을 극대화 하기 위해서라고 한다.

기존의 MVC패턴은 모델과 뷰가 서로 의존관계이다. 따라서 모델과 뷰를 완전히 분리시켜 컨트롤러를 통해서만 연결되도록 하면? 뷰와 보델의 결합도가 낮아진다.

모델은 뷰와 관련된 로직을 전혀 알 필요가 없다. 뷰 또한 컨트롤러가 보내주는 데이터를 받아서 보여주기만 하면 된다.

이렇게 구조를 만들어주게 되면 특정한 로직이나 의존성에 대해서 많이 알고 있지 않기 때문에, 언제든지 여러곳에서 재사용이 가능하게 된다.

애플의 말에 따르면 뷰는 OS와 앱의 ‘Look & Feel’을 담당한다. 따라서 모습과 행동이 일관적인 디자인을 유지해야 한다는 뜻이다.

그래서 뷰는 최대한 커스터마이즈를 줄이고, 많이 재사용을 해야한다는 것이다.

반대로 뷰에 특정한 로직이 들어가거나, 모델에게 직접 데이터를 받아오거나 데이터를 가공한다면? 그만큼 재사용성이 떨어진다.

그래서 대부분의 로직은 컨트롤러에게 위임한다. 뷰는 그저 일관된 시각적 디자인과 반응을 보여주는 UI만 담당하고, 구체적인 로직들은 모두 컨트롤러에게 준다.

# 🔥 오늘의 3줄 회고

- MVC, MVP랑 끝장을 봐야 이해가 갈 것 같다.
- 주말 공부는 역시,,,
- 잠은 죽어서 자도 된다. 그럼 빨리 죽는게 이득일까?
